import{b as x,z as t,d as j,t as o,j as a,c as p,B as g}from"./main-DU4EUtQO.js";import{u as v,c as C,F as i,a as l,b as c}from"./field-D0GJiKVd.js";import{C as b,a as F,b as w,d as f,c as y,e as L}from"./card-CHKjLI2G.js";import{I as m}from"./input-CAae7FRY.js";function V(){return a.jsx("div",{className:"flex flex-col items-center justify-center h-screen",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsx(S,{})})})}const B=t.object({username:t.string().min(1),password:t.string().min(1)});function S({className:u,...d}){const h=x(),n=v({defaultValues:{username:"",password:""},validators:{onSubmit:B},onSubmit:async({value:e})=>{const{data:s,error:r}=await j.signIn.username({username:e.username,password:e.password});r&&o.error(r.message),s&&(o.success("Login successful"),h({to:"/"}),n.reset())}});return a.jsx("div",{className:p("flex flex-col gap-6",u),...d,children:a.jsxs(b,{children:[a.jsxs(F,{children:[a.jsx(w,{children:"Login to your account"}),a.jsx(f,{children:"Enter your account below to login to your account"})]}),a.jsx(y,{children:a.jsx("form",{id:"login-form",onSubmit:e=>{e.preventDefault(),n.handleSubmit()},children:a.jsxs(C,{children:[a.jsx(n.Field,{name:"username",children:e=>{const s=e.state.meta.isTouched&&!e.state.meta.isValid;return a.jsxs(i,{"data-invalid":s,children:[a.jsx(l,{htmlFor:e.name,children:"Username"}),a.jsx(m,{id:e.name,name:e.name,value:e.state.value,onBlur:e.handleBlur,onChange:r=>e.handleChange(r.target.value),"aria-invalid":s,placeholder:"Enter username",autoComplete:"off",autoFocus:!0}),s&&a.jsx(c,{errors:e.state.meta.errors})]})}}),a.jsx(n.Field,{name:"password",children:e=>{const s=e.state.meta.isTouched&&!e.state.meta.isValid;return a.jsxs(i,{"data-invalid":s,children:[a.jsx(l,{htmlFor:e.name,children:"Password"}),a.jsx(m,{id:e.name,name:e.name,value:e.state.value,onBlur:e.handleBlur,onChange:r=>e.handleChange(r.target.value),"aria-invalid":s,placeholder:"Enter password",autoComplete:"off",type:"password"}),s&&a.jsx(c,{errors:e.state.meta.errors})]})}})]})})}),a.jsx(L,{children:a.jsx(n.Subscribe,{selector:e=>e.isSubmitting,children:e=>a.jsx(g,{type:"submit",form:"login-form",disabled:e,children:e?"Logging in...":"Login"})})})]})})}export{S as LoginForm,V as component};
